-- Patch 1.2 World DB Itemization Changes. 
-- To be applied on QA first for testing.

-- NPCs to Hide: Later Patch Quest Givers: 

DELETE FROM `creature` WHERE `id` IN (15189, 15190, 15181, 15183, 15270, 15194, 15070, 14921);

-- Replacing Naxxramas PvP Sets

DELETE FROM `npc_vendor` WHERE `entry` IN (12785, 12795);

INSERT INTO `npc_vendor` (`entry`, `item`, `maxcount`, `incrtime`) VALUES
('12785','16369','0','0'),
('12785','16391','0','0'),
('12785','16392','0','0'),
('12785','16393','0','0'),
('12785','16396','0','0'),
('12785','16397','0','0'),
('12785','16401','0','0'),
('12785','16403','0','0'),
('12785','16405','0','0'),
('12785','16406','0','0'),
('12785','16409','0','0'),
('12785','16410','0','0'),
('12785','16413','0','0'),
('12785','16414','0','0'),
('12785','16415','0','0'),
('12785','16416','0','0'),
('12785','16417','0','0'),
('12785','16418','0','0'),
('12785','16419','0','0'),
('12785','16420','0','0'),
('12785','16421','0','0'),
('12785','16422','0','0'),
('12785','16423','0','0'),
('12785','16424','0','0'),
('12785','16425','0','0'),
('12785','16426','0','0'),
('12785','16427','0','0'),
('12785','16428','0','0'),
('12785','16429','0','0'),
('12785','16430','0','0'),
('12785','16431','0','0'),
('12785','16432','0','0'),
('12785','16433','0','0'),
('12785','16434','0','0'),
('12785','16435','0','0'),
('12785','16436','0','0'),
('12785','16437','0','0'),
('12785','16440','0','0'),
('12785','16441','0','0'),
('12785','16442','0','0'),
('12785','16443','0','0'),
('12785','16444','0','0'),
('12785','16446','0','0'),
('12785','16448','0','0'),
('12785','16449','0','0'),
('12785','16450','0','0'),
('12785','16451','0','0'),
('12785','16452','0','0'),
('12785','16453','0','0'),
('12785','16454','0','0'),
('12785','16455','0','0'),
('12785','16456','0','0'),
('12785','16457','0','0'),
('12785','16459','0','0'),
('12785','16462','0','0'),
('12785','16463','0','0'),
('12785','16465','0','0'),
('12785','16466','0','0'),
('12785','16467','0','0'),
('12785','16468','0','0'),
('12785','16471','0','0'),
('12785','16472','0','0'),
('12785','16473','0','0'),
('12785','16474','0','0'),
('12785','16475','0','0'),
('12785','16476','0','0'),
('12785','16477','0','0'),
('12785','16478','0','0'),
('12785','16479','0','0'),
('12785','16480','0','0'),
('12785','16483','0','0'),
('12785','16484','0','0'),
('12785','17562','0','0'),
('12785','17564','0','0'),
('12785','17566','0','0'),
('12785','17567','0','0'),
('12785','17568','0','0'),
('12785','17569','0','0'),
('12785','17578','0','0'),
('12785','17579','0','0'),
('12785','17580','0','0'),
('12785','17581','0','0'),
('12785','17583','0','0'),
('12785','17584','0','0'),
('12785','17594','0','0'),
('12785','17596','0','0'),
('12785','17598','0','0'),
('12785','17599','0','0'),
('12785','17600','0','0'),
('12785','17601','0','0'),
('12785','17602','0','0'),
('12785','17603','0','0'),
('12785','17604','0','0'),
('12785','17605','0','0'),
('12785','17607','0','0'),
('12785','17608','0','0'),
('12795','16485','0','0'),
('12795','16487','0','0'),
('12795','16489','0','0'),
('12795','16490','0','0'),
('12795','16491','0','0'),
('12795','16492','0','0'),
('12795','16494','0','0'),
('12795','16496','0','0'),
('12795','16498','0','0'),
('12795','16499','0','0'),
('12795','16501','0','0'),
('12795','16502','0','0'),
('12795','16503','0','0'),
('12795','16504','0','0'),
('12795','16505','0','0'),
('12795','16506','0','0'),
('12795','16507','0','0'),
('12795','16508','0','0'),
('12795','16509','0','0'),
('12795','16510','0','0'),
('12795','16513','0','0'),
('12795','16514','0','0'),
('12795','16515','0','0'),
('12795','16516','0','0'),
('12795','16518','0','0'),
('12795','16519','0','0'),
('12795','16521','0','0'),
('12795','16522','0','0'),
('12795','16523','0','0'),
('12795','16524','0','0'),
('12795','16525','0','0'),
('12795','16526','0','0'),
('12795','16527','0','0'),
('12795','16528','0','0'),
('12795','16530','0','0'),
('12795','16531','0','0'),
('12795','16533','0','0'),
('12795','16534','0','0'),
('12795','16535','0','0'),
('12795','16536','0','0'),
('12795','16539','0','0'),
('12795','16540','0','0'),
('12795','16541','0','0'),
('12795','16542','0','0'),
('12795','16543','0','0'),
('12795','16544','0','0'),
('12795','16545','0','0'),
('12795','16548','0','0'),
('12795','16549','0','0'),
('12795','16550','0','0'),
('12795','16551','0','0'),
('12795','16552','0','0'),
('12795','16554','0','0'),
('12795','16555','0','0'),
('12795','16558','0','0'),
('12795','16560','0','0'),
('12795','16561','0','0'),
('12795','16562','0','0'),
('12795','16563','0','0'),
('12795','16564','0','0'),
('12795','16565','0','0'),
('12795','16566','0','0'),
('12795','16567','0','0'),
('12795','16568','0','0'),
('12795','16569','0','0'),
('12795','16571','0','0'),
('12795','16573','0','0'),
('12795','16574','0','0'),
('12795','16577','0','0'),
('12795','16578','0','0'),
('12795','16579','0','0'),
('12795','16580','0','0'),
('12795','17570','0','0'),
('12795','17571','0','0'),
('12795','17572','0','0'),
('12795','17573','0','0'),
('12795','17576','0','0'),
('12795','17577','0','0'),
('12795','17586','0','0'),
('12795','17588','0','0'),
('12795','17590','0','0'),
('12795','17591','0','0'),
('12795','17592','0','0'),
('12795','17593','0','0'),
('12795','17610','0','0'),
('12795','17611','0','0'),
('12795','17612','0','0'),
('12795','17613','0','0'),
('12795','17616','0','0'),
('12795','17617','0','0'),
('12795','17618','0','0'),
('12795','17620','0','0'),
('12795','17622','0','0'),
('12795','17623','0','0'),
('12795','17624','0','0'),
('12795','17625','0','0');

-- You Shall Not Pass

update areatrigger_teleport set required_level=61 where target_map in (533, 531, 509, 429, 309, 469);

-- Run query to remove unsing triggers from DB

DELETE FROM areatrigger_involvedrelation WHERE quest NOT IN (SELECT entry FROM quest_template);
DELETE FROM creature_involvedrelation WHERE quest NOT IN (SELECT entry FROM quest_template);
DELETE FROM creature_questrelation WHERE quest NOT IN (SELECT entry FROM quest_template);
DELETE FROM gameobject_involvedrelation WHERE quest NOT IN (SELECT entry FROM quest_template);
DELETE FROM gameobject_questrelation WHERE quest NOT IN (SELECT entry FROM quest_template);

-- Zanza's Potent Potables
REPLACE INTO `spell_mod` (`Id`, `AttributesEx3`, `Comment`) VALUES 
(24382, 1048576, 'Spirit of Zanza - persist through death (before 1.12)'),
(24417, 1048576, 'Sheen of Zanza - persist through death (before 1.12)'),
(24383, 1048576, 'Swiftness of Zanza - persist through death (before 1.12)');

-- no spawn of Azuregos, Kazzak 1.3
UPDATE `creature` SET `spawnFlags` = 2 WHERE id IN (6109, 12397);

-- disable unavailable game events
UPDATE `game_event` SET `disabled` = 1 WHERE `entry` IN
(
4, 5, 100, 101, 	-- DarkMoon Faire 1.6
13,					-- Elemental Invasion 1.5
16, 38, 39,			-- Gurubashi Arena 1.5
14, 15, 40,			-- Stranglethorn Fishing Extravaganza 1.7
156, 159,			-- Dire Maul extra content(unchecked) 1.3
35, 36, 37,
42, 43, 44,			-- The Maul 1.3
66,					-- Dragons of Nightmare 1.8
18,					-- Call to arms: Alterac Valley 1.5
154,		-- Silithus @ 1.9 (unchecked)
155,		-- Argent dawn @ 1.11 (unchecked)
158,		-- 1.10 Patch : Recipes (unchecked)
160,		-- 1.10 Patch : t0.5 Quest Chain (unchecked)
161,		-- Patch 1.3
162,		-- Patch 1.4 | 1.5
163,		-- Patch 1.6
164,		-- Patch 1.7
165,		-- Patch 1.8
166,		-- Patch 1.9
167,		-- Patch 1.10
168 		-- Patch 1.11 ? 1.12
);

-- disable Alterac Valley 1.5
UPDATE `battleground_template` SET `MinLvl` = 61, `MaxLvl` = 61 WHERE `id` = 1;

-- disable unavailable instances
UPDATE `areatrigger_teleport` SET `required_level` = 61 WHERE `target_map` IN 
(
533,    -- Naxxramas 1.12
531,    -- AQ40 (Temple of AQ) 1.9
509,    -- AQ20 (Ruins of AQ) 1.9
429,    -- Dire Maul 1.3
309,    -- Zul'Gurub 1.7
469     -- Blackwing Lair 1.6
);
